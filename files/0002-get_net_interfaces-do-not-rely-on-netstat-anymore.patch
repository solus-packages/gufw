From 5e3d19ce8529257dcf164572ec02aca43ed9f5b8 Mon Sep 17 00:00:00 2001
From: Pierre-Yves <pyu@skynet.be>
Date: Sun, 26 Mar 2017 22:21:10 +0200
Subject: [PATCH 2/2] get_net_interfaces: do not rely on netstat anymore

---
 gufw/gufw/model/ufw_backend.py | 13 ++-----------
 1 file changed, 2 insertions(+), 11 deletions(-)

diff --git a/gufw/gufw/model/ufw_backend.py b/gufw/gufw/model/ufw_backend.py
index bc07b5c..737d465 100644
--- a/gufw/gufw/model/ufw_backend.py
+++ b/gufw/gufw/model/ufw_backend.py
@@ -458,17 +458,8 @@ class Backend():
         return result # cmd | ufw result
     
     def get_net_interfaces(self):
-        cmd_ifaces = ['netstat', '-i']
-        cmd = self._run_cmd(cmd_ifaces)
-        ifaces = cmd.split('\n')
-        
-        index = 0
-        result = []
-        for iface in ifaces:
-            index = index + 1
-            if index > 2 and iface:
-                result.append(iface.split(' ')[0])
-        
+        result = os.listdir('/sys/class/net/')
+
         return result
     
     def get_net_ip(self):
-- 
2.12.2

